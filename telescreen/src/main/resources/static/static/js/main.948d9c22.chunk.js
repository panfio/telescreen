(this.webpackJsonptelescreen=this.webpackJsonptelescreen||[]).push([[0],{34:function(e,t,n){e.exports=n(76)},39:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),a=n(5),o=n.n(a),s=(n(39),n(8)),u=n(9),c=n(16),l=n(15),p=n(17),m=n(11),h=n.n(m),g=(n(73),n(7)),d=n.n(g),f=Date.now(),v=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.items,t=this.props.groups;return i.a.createElement("div",null,i.a.createElement(h.a,{groups:t,items:e,defaultTimeStart:d()().add(-24,"hour"),defaultTimeEnd:d()(),minZoom:6e4},i.a.createElement(m.TimelineMarkers,null,i.a.createElement(m.CustomMarker,{date:f}),i.a.createElement(m.CursorMarker,null))))}}]),t}(i.a.Component),b=n(31),D=n.n(b),y=function(){function e(){Object(s.a)(this,e),this.host="http://localhost:8080"}return Object(u.a)(e,[{key:"getWrapper",value:function(e,t,n){var r={from:t.toISOString().substring(0,t.toISOString().length-1),to:n.toISOString().substring(0,n.toISOString().length-1)},i=new URL(this.host+e);return Object.keys(r).forEach((function(e){return i.searchParams.append(e,r[e])})),console.log(i.href.substring(this.host.length)),fetch(i.href.substring(this.host.length)).then((function(e){return e.json()}))}},{key:"getYouTubes",value:function(e,t){return this.getWrapper("/app/youtube",e,t)}},{key:"getAutotimers",value:function(e,t){return this.getWrapper("/autotimer",e,t)}},{key:"getTimeLogs",value:function(e,t){return this.getWrapper("/app/timelog",e,t)}},{key:"getListenHistory",value:function(e,t){return this.getWrapper("/app/listenhistory",e,t)}},{key:"getMediaHistory",value:function(e,t){return this.getWrapper("/media",e,t)}},{key:"getWellbeingHistory",value:function(e,t){return this.getWrapper("/app/wellbeing",e,t)}}]),e}(),w=n(89),k=new y;var M=function(){var e=1;return function(){return e++}}(),O=function(e){function t(e){var n;Object(s.a)(this,t);return(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={groups:[{id:1,title:"PC time log"},{id:2,title:"YouTube"},{id:3,title:"TimeLog"},{id:4,title:"Music"},{id:5,title:"Media files"},{id:6,title:"Android phone"}],items:[]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.getItems(new Date(Date.now()-144e6),new Date(Date.now()+288e6)).items;this.setState((function(t){return{items:e}})),console.log("componentDidMount()")}},{key:"getItems",value:function(e,t){var n=[];return k.getAutotimers(e,t).then((function(e){return e.map((function(e){return n.push({id:M(),group:1,title:e.name,start_time:Date.parse(e.startTime),end_time:Date.parse(e.endTime),canMove:!1,canResize:!1,canChangeGroup:!1})}))})),k.getTimeLogs(e,t).then((function(e){return e.map((function(e){return n.push({id:M(),group:3,title:e.tags[0]+e.description,start_time:Date.parse(e.startDate),end_time:Date.parse(e.endDate),canMove:!1,canResize:!1,canChangeGroup:!1})}))})),k.getListenHistory(e,t).then((function(e){return e.map((function(e){return n.push({id:M(),group:4,title:e.artist+e.title,start_time:Date.parse(e.listenTime),end_time:Date.parse(e.listenTime+1e4),canMove:!1,canResize:!1,canChangeGroup:!1,itemProps:{onMouseDown:function(){window.open(e.url,"_blank")}}})}))})),k.getYouTubes(e,t).then((function(e){return e.map((function(e){return n.push({id:M(),group:2,title:e.title,start_time:Date.parse(e.time),end_time:Date.parse(e.time)+12e4,canMove:!1,canResize:!1,canChangeGroup:!1,itemProps:{onMouseDown:function(){window.open(e.url,"_blank")}}})}))})),k.getMediaHistory(e,t).then((function(e){return e.map((function(e){return n.push({id:M(),group:5,title:e.path,start_time:Date.parse(e.created),end_time:Date.parse(e.created)+1e4,canMove:!1,canResize:!1,canChangeGroup:!1,itemProps:{onMouseDown:function(){window.open(k.host+e.url,"_blank")},style:{background:"fuchsia"}}})}))})),k.getWellbeingHistory(e,t).then((function(e){return e.map((function(e){return n.push({id:M(),group:6,title:e.app,start_time:Date.parse(e.startTime),end_time:Date.parse(e.endTime),canMove:!1,canResize:!1,canChangeGroup:!1})}))})),{items:n}}},{key:"setDate",value:function(e,t){console.log("setDate()"+e+"   "+t);var n=this.getItems(e,t).items;this.setState((function(e){return{items:n}}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(v,{items:this.state.items,groups:this.state.groups}),i.a.createElement(D.a,{onClose:function(t,n){return e.setDate(t,n)}}),i.a.createElement(w.a,{variant:"outlined",color:"primary",href:"/process/all"},"Process All"))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.948d9c22.chunk.js.map